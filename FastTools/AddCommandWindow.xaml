<Window x:Class="FastTools.AddCommandWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="新增命令" Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <TextBlock Text="命令别名:" FontWeight="Bold" Margin="0,0,0,5" />
            <TextBox Name="AliasTextBox" Height="30" Padding="5" />
        </StackPanel>

        <Border Grid.Row="1" BorderBrush="LightGray" BorderThickness="1" CornerRadius="5" Padding="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Grid Grid.Row="0" Margin="0,0,0,10">
                    <TextBlock Text="任务列表" FontWeight="Bold" />
                    <Button Name="AddStepButton" Width="80" Height="28" HorizontalAlignment="Right" Content="添加任务" Click="AddStepButton_Click" />
                </Grid>

                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <ItemsControl Name="StepsPanel">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="LightGray" BorderThickness="1" CornerRadius="5" Padding="10" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <ComboBox Name="StepTypeComboBox" Grid.Column="0" Height="28" Margin="0,0,10,0" SelectionChanged="StepTypeComboBox_SelectionChanged">
                                            <ComboBoxItem Content="command" />
                                            <ComboBoxItem Content="adb_command" />
                                            <ComboBoxItem Content="delay" />
                                        </ComboBox>

                                        <TextBox Name="StepValueTextBox" Grid.Column="1" Height="28" Padding="5" />

                                        <Button Name="DeleteStepButton" Grid.Column="2" Width="28" Height="28" Margin="10,0,0,0" Content="✕" Click="DeleteStepButton_Click" />
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Grid>
        </Border>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Name="CancelButton" Width="80" Height="32" Margin="0,0,10,0" Content="取消" Click="CancelButton_Click" />
            <Button Name="SaveButton" Width="80" Height="32" Content="保存" Click="SaveButton_Click" />
        </StackPanel>
    </Grid>
</Window>
